<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini-LED Executive Summary | Samsung TV AI Visibility</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="../css/slides.css">
    <style>
        .main-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }

        .chart-section {
            background: var(--color-bg-section);
            border-radius: 8px;
            padding: 16px 24px 12px;
        }

        .chart-section h3 {
            font-family: var(--font-display);
            font-size: 18px;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 8px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .brand-card {
            background: var(--color-bg-section);
            border-radius: 8px;
            padding: 20px 24px;
            border-top: 5px solid;
        }

        .brand-card.samsung {
            border-color: var(--color-samsung);
        }

        .brand-card.tcl {
            border-color: var(--color-tcl);
        }

        .brand-card .brand-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .brand-card .brand-name {
            font-family: var(--font-display);
            font-size: 22px;
            font-weight: 700;
        }

        .brand-card.samsung .brand-name {
            color: var(--color-samsung);
        }

        .brand-card.tcl .brand-name {
            color: var(--color-tcl);
        }

        .brand-card .rank-badge {
            font-size: 14px;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 12px;
            background: rgba(0,0,0,0.08);
            color: var(--color-text-secondary);
        }

        .kpi-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .kpi-row:last-child {
            border-bottom: none;
        }

        .kpi-label {
            font-size: 15px;
            color: var(--color-text-secondary);
        }

        .kpi-value {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text-primary);
        }

        .kpi-value.positive {
            color: #2e7d32;
        }

        .kpi-value.negative {
            color: #c62828;
        }

        .kpi-value.winner {
            color: var(--color-positive);
        }

        .sentiment-bar {
            display: flex;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 12px;
        }

        .sentiment-bar .pos {
            background: var(--color-positive);
        }

        .sentiment-bar .neu {
            background: var(--color-neutral);
        }

        .sentiment-bar .neg {
            background: var(--color-negative);
        }

        .insight-callout {
            background: linear-gradient(135deg, #fff8e6 0%, #fff3cd 100%);
            border-left: 5px solid #f5a623;
            border-radius: 8px;
            padding: 18px 24px;
            margin-top: 20px;
        }

        .insight-callout .insight-title {
            font-family: var(--font-display);
            font-size: 16px;
            font-weight: 700;
            color: #8b6914;
            margin-bottom: 8px;
        }

        .insight-callout .insight-text {
            font-size: 15px;
            line-height: 1.5;
            color: #6b5212;
        }

        .insight-callout .highlight {
            font-weight: 700;
            color: #5a4510;
        }

        .total-market {
            text-align: center;
            font-size: 14px;
            color: var(--color-text-secondary);
            margin-top: 4px;
        }

        .total-market strong {
            color: var(--color-text-primary);
            font-weight: 700;
        }

        .key-quote {
            text-align: center;
            padding: 16px 24px;
            margin-top: 16px;
            background: linear-gradient(135deg, #1428A0 0%, #0d1a6b 100%);
            border-radius: 8px;
            color: white;
        }

        .key-quote .quote-mark {
            font-family: Georgia, serif;
            font-size: 32px;
            line-height: 1;
            opacity: 0.5;
            vertical-align: middle;
        }

        .key-quote .quote-text {
            font-family: var(--font-display);
            font-size: 22px;
            font-weight: 700;
            margin: 0 8px;
        }
    </style>
</head>
<body>
    <div class="slide-container">
        <header class="slide-header">
            <div>
                <h1>Mini-LED Competitive Landscape<span class="subtitle">Executive Summary</span></h1>
            </div>
            <span class="slide-badge">Mini-LED Deep Dive | Jan 31, 2026</span>
        </header>

        <div class="slide-content">
            <div class="main-grid">
                <!-- Bar Chart Section -->
                <div class="chart-section">
                    <h3>Share of Voice by Brand</h3>
                    <div id="sov-chart" style="height: 150px;"></div>
                    <div class="total-market">Total Mini-LED Mentions: <strong>2,875</strong> across 5 brands</div>
                </div>

                <!-- Samsung vs TCL Comparison -->
                <div class="comparison-grid">
                    <div class="brand-card samsung">
                        <div class="brand-header">
                            <span class="brand-name">Samsung</span>
                            <span class="rank-badge">#1 Volume</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Mentions</span>
                            <span class="kpi-value">828 (28.8%)</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Positive Sentiment</span>
                            <span class="kpi-value">70.7%</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Negative Mentions</span>
                            <span class="kpi-value negative">16</span>
                        </div>
                        <div class="sentiment-bar">
                            <div class="pos" style="width: 70.7%;"></div>
                            <div class="neu" style="width: 27.4%;"></div>
                            <div class="neg" style="width: 1.9%;"></div>
                        </div>
                    </div>

                    <div class="brand-card tcl">
                        <div class="brand-header">
                            <span class="brand-name">TCL</span>
                            <span class="rank-badge">#1 Sentiment</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Mentions</span>
                            <span class="kpi-value">798 (27.8%)</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Positive Sentiment</span>
                            <span class="kpi-value winner">80.1%</span>
                        </div>
                        <div class="kpi-row">
                            <span class="kpi-label">Negative Mentions</span>
                            <span class="kpi-value positive">3</span>
                        </div>
                        <div class="sentiment-bar">
                            <div class="pos" style="width: 80.1%;"></div>
                            <div class="neu" style="width: 19.5%;"></div>
                            <div class="neg" style="width: 0.4%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Key Insight -->
                <div class="insight-callout">
                    <div class="insight-title">Key Insight: Samsung Leads Volume, But Trails on Sentiment</div>
                    <div class="insight-text">
                        Samsung narrowly leads Mini-LED mentions (<span class="highlight">28.8% vs 27.8%</span>), but TCL wins on positive sentiment
                        (<span class="highlight">80.1% vs 70.7%</span>) â€” a <span class="highlight">9.4 percentage point gap</span>.
                        TCL has become synonymous with Mini-LED technology in AI responses, similar to how LG owns OLED positioning.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // SOV Data (verified from Supabase)
        const sovData = [
            { brand: 'Samsung', mentions: 828, pct: 28.8, color: '#1428A0' },
            { brand: 'TCL', mentions: 798, pct: 27.8, color: '#E31937' },
            { brand: 'Sony', mentions: 567, pct: 19.7, color: '#000000' },
            { brand: 'Hisense', mentions: 487, pct: 16.9, color: '#00A0DF' },
            { brand: 'LG', mentions: 195, pct: 6.8, color: '#A50034' }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderBarChart();
        });

        function renderBarChart() {
            const container = document.getElementById('sov-chart');
            const width = container.clientWidth;
            const height = 150;
            const margin = { top: 5, right: 100, bottom: 5, left: 80 };
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;

            const svg = d3.select('#sov-chart')
                .append('svg')
                .attr('width', width)
                .attr('height', height);

            const chart = svg.append('g')
                .attr('transform', `translate(${margin.left}, ${margin.top})`);

            // Scales
            const y = d3.scaleBand()
                .domain(sovData.map(d => d.brand))
                .range([0, chartHeight])
                .padding(0.3);

            const x = d3.scaleLinear()
                .domain([0, d3.max(sovData, d => d.mentions) * 1.05])
                .range([0, chartWidth]);

            // Bars
            chart.selectAll('rect')
                .data(sovData)
                .enter()
                .append('rect')
                .attr('y', d => y(d.brand))
                .attr('x', 0)
                .attr('height', y.bandwidth())
                .attr('width', d => x(d.mentions))
                .attr('fill', d => d.color)
                .attr('rx', 4)
                .attr('opacity', 0.9);

            // Brand labels
            chart.selectAll('.brand-label')
                .data(sovData)
                .enter()
                .append('text')
                .attr('class', 'brand-label')
                .attr('x', -10)
                .attr('y', d => y(d.brand) + y.bandwidth() / 2)
                .attr('text-anchor', 'end')
                .attr('dominant-baseline', 'middle')
                .style('font-family', 'Samsung One, sans-serif')
                .style('font-size', '14px')
                .style('font-weight', '600')
                .style('fill', d => d.color)
                .text(d => d.brand);

            // Value labels
            chart.selectAll('.value-label')
                .data(sovData)
                .enter()
                .append('text')
                .attr('class', 'value-label')
                .attr('x', d => x(d.mentions) + 8)
                .attr('y', d => y(d.brand) + y.bandwidth() / 2)
                .attr('dominant-baseline', 'middle')
                .style('font-family', 'Samsung One, sans-serif')
                .style('font-size', '14px')
                .style('fill', '#333')
                .text(d => `${d.mentions.toLocaleString()} (${d.pct}%)`);
        }
    </script>
</body>
</html>
